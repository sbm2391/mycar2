<app-nav-private></app-nav-private>
<section *ngIf="user" class="section-padding #eeeeee grey lighten-3">
  <div class="container">
    <!-- personal data -->
    <div class="row">
        <div class="col s12 m12">
          <div class="card">
            <div class="card-image">
              <div class="image-heigth #00897b teal darken-1">
              <img class="img-profile" src="http://localhost:3000/{{user.profilePic}}" alt="{{user.name}}">
              
              <div *ngIf="!showEditUsername">
                <h4>{{user.username}} <span class="edit-white" (click)="showEditUsername=true">edit</span></h4>
              </div>
              <div *ngIf="showEditUsername">
                <input (keydown.enter)="sendModification()" type="text" [(ngModel)]="user.username">
              </div>
            </div>
            </div>
            <!-- profile info -->
            <div class="card-content">
              <h4>My Profile:</h4>
              <!-- name -->
              <div *ngIf="!showEditName">
                <p>Name: {{user.name}} <span class="edit" (click)="showEditName=true">edit</span></p>
              </div>
              <div *ngIf="showEditName">
                <input (keydown.enter)="sendModification()" type="text" [(ngModel)]="user.name">
              </div>
              <!-- family name -->
              <div *ngIf="!showEditFamilyName">
                <p>Family Name: {{user.familyName}} <span class="edit" (click)="showEditFamilyName=true">edit</span></p>
              </div>
              <div *ngIf="showEditFamilyName">
                <input (keydown.enter)="sendModification()" type="text" [(ngModel)]="user.familyName">
              </div>
              <!-- email -->
              <div *ngIf="!showEditEmail">
                <p>Email: {{user.email}} <span class="edit" (click)="showEditEmail=true">edit</span></p>
             </div>
             <div *ngIf="showEditEmail">
              <input (keydown.enter)="sendModification()" type="email" [(ngModel)]="user.email">
            </div>
             <!-- phone -->
            <div *ngIf="!showEditPhone">
                <p>Phone: {{user.phone}} <span class="edit" (click)="showEditPhone=true">edit</span></p>
              </div>
              <div *ngIf="showEditPhone">
                <input (keydown.enter)="sendModification()" type="tel" [(ngModel)]="user.phone">
              </div>
               <!-- adress -->
              <div *ngIf="!showEditAddress">
                <p>Address: {{user.location.address}} <span class="edit"  (click)="showEditAddress=true ; getReadyAutocomplete()">edit</span></p>
              </div> 
              <div *ngIf="showEditAddress">
                <input placeholder="search for location" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="form-control" #search (keydown.enter)="sendModification()" [(ngModel)]="user.location.address">
            </div>
               <!-- image -->
            <div>
              <input type="file" name="file" ng2FileSelect [uploader]="uploader"/>
              <button class="btn waves-effect waves-light" (click)="updatePhoto()">Update foto</button>
              
            </div>
            </div>
        </div>
      </div>
    </div>
    <!-- /personal data -->
  </div>
</section>
<app-footer></app-footer>
